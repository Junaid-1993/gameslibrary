"use client";

import { Button } from "@/components/ui/button";
import { cn } from "@/lib/utils";
import { useState } from "react";
import MorphIcon from "./MorphIcon";

export default function AddToListButton({
  className,
  added,
}: {
  className?: string;
  added: boolean;
}) {
  const [active, setActive] = useState(added);

  const iconPaths = {
    staticPath:
      "M0.625 2C0.625 1.70163 0.743526 1.41548 0.954505 1.2045C1.16548 0.993526 1.45163 0.875 1.75 0.875H18.25C18.5484 0.875 18.8345 0.993526 19.0455 1.2045C19.2565 1.41548 19.375 1.70163 19.375 2C19.375 2.29837 19.2565 2.58452 19.0455 2.7955C18.8345 3.00647 18.5484 3.125 18.25 3.125H1.75C1.45163 3.125 1.16548 3.00647 0.954505 2.7955C0.743526 2.58452 0.625 2.29837 0.625 2ZM1.75 9.125H18.25C18.5484 9.125 18.8345 9.00647 19.0455 8.79549C19.2565 8.58452 19.375 8.29837 19.375 8C19.375 7.70163 19.2565 7.41548 19.0455 7.2045C18.8345 6.99353 18.5484 6.875 18.25 6.875H1.75C1.45163 6.875 1.16548 6.99353 0.954505 7.2045C0.743526 7.41548 0.625 7.70163 0.625 8C0.625 8.29837 0.743526 8.58452 0.954505 8.79549C1.16548 9.00647 1.45163 9.125 1.75 9.125ZM11.5 12.875H1.75C1.45163 12.875 1.16548 12.9935 0.954505 13.2045C0.743526 13.4155 0.625 13.7016 0.625 14C0.625 14.2984 0.743526 14.5845 0.954505 14.7955C1.16548 15.0065 1.45163 15.125 1.75 15.125H11.5C11.7984 15.125 12.0845 15.0065 12.2955 14.7955C12.5065 14.5845 12.625 14.2984 12.625 14C12.625 13.7016 12.5065 13.4155 12.2955 13.2045C12.0845 12.9935 11.7984 12.875 11.5 12.875Z",
    morphPlus:
      "M19.75 12.875H18.625V11.75C18.625 11.4516 18.5065 11.1655 18.2955 10.9545C18.0845 10.7435 17.7984 10.625 17.5 10.625C17.2016 10.625 16.9155 10.7435 16.7045 10.9545C16.4935 11.1655 16.375 11.4516 16.375 11.75V12.875H15.25C14.9516 12.875 14.6655 12.9935 14.4545 13.2045C14.2435 13.4155 14.125 13.7016 14.125 14C14.125 14.2984 14.2435 14.5845 14.4545 14.7955C14.6655 15.0065 14.9516 15.125 15.25 15.125H16.375V16.25C16.375 16.5484 16.4935 16.8345 16.7045 17.0455C16.9155 17.2565 17.2016 17.375 17.5 17.375C17.7984 17.375 18.0845 17.2565 18.2955 17.0455C18.5065 16.8345 18.625 16.5484 18.625 16.25V15.125H19.75C20.0484 15.125 20.3345 15.0065 20.5455 14.7955C20.7565 14.5845 20.875 14.2984 20.875 14C20.875 13.7016 20.7565 13.4155 20.5455 13.2045C20.3345 12.9935 20.0484 12.875 19.75 12.875Z",
    morphCheck:
      "M20.2929 11.293C20.6834 10.9025 21.3164 10.9025 21.707 11.293C22.0975 11.6835 22.0975 12.3166 21.707 12.7071L17.707 16.7071C17.3164 17.0976 16.6834 17.0976 16.2929 16.7071L14.2929 14.7071C13.9024 14.3166 13.9024 13.6835 14.2929 13.293C14.6834 12.9025 15.3164 12.9025 15.707 13.293L16.9999 14.586L20.2929 11.293Z",
  };

  const handleClick = () => {
    setActive(!active);
  };

  return (
    <Button
      variant="outline"
      onClick={handleClick}
      aria-label="Add to List Button"
      className={cn(
        "dark:bg-surface-500 dark:border-border-400 h-auto shrink-1 cursor-pointer gap-3 rounded-lg border text-white",
        className
      )}
    >
      <MorphIcon
        staticPath={iconPaths.staticPath}
        morphPaths={[iconPaths.morphPlus, iconPaths.morphCheck]}
        viewBox="0.625 0.875 21.082 16.222"
        width={24}
        height={24}
        active={active}
        fromColor="#FDB541"
        toColor="#22C55E"
        aria-label="Add to your list"
      />
      <span>{active ? "Added" : "Add to List"}</span>
    </Button>
  );
}
